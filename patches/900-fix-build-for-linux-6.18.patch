--- a/r8152.c
+++ b/r8152.c
@@ -26265,8 +26265,14 @@ static int rtl8152_post_reset(struct usb
 		rtnl_lock();
 #if LINUX_VERSION_CODE < KERNEL_VERSION(5,0,0)
 		dev_set_mac_address(tp->netdev, &sa);
-#else
+#elif LINUX_VERSION_CODE < KERNEL_VERSION(6,18,0)
 		dev_set_mac_address(tp->netdev, &sa, NULL);
+#else
+		{
+			struct sockaddr_storage ss = {0};
+			memcpy(&ss, &sa, sizeof(sa));
+			dev_set_mac_address(tp->netdev, &ss, NULL);
+		}
 #endif /* LINUX_VERSION_CODE < KERNEL_VERSION(5,0,0) */
 		rtnl_unlock();
 	}
